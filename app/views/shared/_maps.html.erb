<% if controller.controller_name == 'request_deliveries' && controller.action_name == 'show' %>
    <script type="text/javascript">

        var directionDisplay;
        var directionsService = new google.maps.DirectionsService();
        var map;
        var myLatlng = new google.maps.LatLng(32.830361000000000000,34.974337999999990000);

        function initialize() {
            directionsDisplay = new google.maps.DirectionsRenderer();
            var mapOptions = {
                zoom: 5,
                center: new google.maps.LatLng(37.651429,25.267043),
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map(document.getElementById('current-delivery-map'), mapOptions);
            directionsDisplay.setMap(map);
            calcRoute();
        }

        function calcRoute() {
            var request = {
                origin:"<%= @request_delivery.from %>",
                destination:"<%= @request_delivery.to %>",
                travelMode: google.maps.DirectionsTravelMode.DRIVING,
            };
            directionsService.route(request, function(response, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(response);
                }
            });
        }
        google.maps.event.addDomListener(window, 'load', initialize);

    </script>
<% elsif controller.controller_name == 'suggest_deliveries' && controller.action_name == 'show' %>
    <script type="text/javascript">
        $(document).ready(function(){
            $("#new_suggest_delivery").formToWizard()
            $("#new_suggest_delivery").enableClientSideValidations();
        });
    </script>
<% end %>